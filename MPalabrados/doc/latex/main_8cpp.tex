\hypertarget{main_8cpp}{}\section{Referencia del Archivo src/main.cpp}
\label{main_8cpp}\index{src/main.\+cpp@{src/main.\+cpp}}
{\ttfamily \#include $<$iostream$>$}\newline
Dependencia gráfica adjunta para main.\+cpp\+:
% FIG 0
\subsection*{defines}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{main_8cpp_ae023c9e753c49f3e65ec2adaf948505b}\label{main_8cpp_ae023c9e753c49f3e65ec2adaf948505b}} 
\#define {\bfseries E\+R\+R\+O\+R\+\_\+\+A\+R\+G\+U\+M\+E\+N\+TS}~1
\item 
\mbox{\Hypertarget{main_8cpp_a3bfc56f55ae00909881ff0c69ea508c3}\label{main_8cpp_a3bfc56f55ae00909881ff0c69ea508c3}} 
\#define {\bfseries E\+R\+R\+O\+R\+\_\+\+O\+P\+EN}~2
\item 
\mbox{\Hypertarget{main_8cpp_a5ea90fb188e81861a7ad79eb54fac76b}\label{main_8cpp_a5ea90fb188e81861a7ad79eb54fac76b}} 
\#define {\bfseries E\+R\+R\+O\+R\+\_\+\+D\+A\+TA}~3
\end{DoxyCompactItemize}
\subsection*{Funciones}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{main_8cpp_ae18f807fa4259735a5ea58fc3f6185c0}{error\+Break} (int errorcode, const string \&errorinfo)
\begin{DoxyCompactList}\small\item\em Reports an important error and exits the program. \end{DoxyCompactList}\item 
void \hyperlink{main_8cpp_a1748be51e193301aa726a8ac722a91e8}{Hall\+Of\+Fame} (const \hyperlink{classLanguage}{Language} \&l, int random, const \hyperlink{classBag}{Bag} \&b, const \hyperlink{classPlayer}{Player} \&p, int nwords, int score, const string \&result)
\begin{DoxyCompactList}\small\item\em Shows final data. \end{DoxyCompactList}\item 
int \hyperlink{main_8cpp_ae3d191cbd032819070b789079ea0faaf}{main} (int nargs, char $\ast$args\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Main function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{main_8cpp_a3a5b272b0aeb3a91e29a93a04f5c3bfa}\label{main_8cpp_a3a5b272b0aeb3a91e29a93a04f5c3bfa}} 
const char {\bfseries id\+\_\+flag} \mbox{[}2\mbox{]} = \char`\"{}-\/l\char`\"{}
\item 
\mbox{\Hypertarget{main_8cpp_a54e548cb1e55308ad58576341ed91222}\label{main_8cpp_a54e548cb1e55308ad58576341ed91222}} 
const char {\bfseries file\+\_\+flag} \mbox{[}2\mbox{]} = \char`\"{}-\/f\char`\"{}
\item 
\mbox{\Hypertarget{main_8cpp_afec4c05b8aa06dc946902759f1763ba3}\label{main_8cpp_afec4c05b8aa06dc946902759f1763ba3}} 
const char {\bfseries random\+\_\+flag} \mbox{[}2\mbox{]} = \char`\"{}-\/r\char`\"{}
\end{DoxyCompactItemize}


\subsection{Descripción detallada}
\begin{DoxyAuthor}{Autor}
D\+E\+C\+S\+AI 
\end{DoxyAuthor}
\begin{DoxyNote}{Nota}
To be implemented by students either completely or by giving them key functions prototipes to guide the implementation 
\end{DoxyNote}


\subsection{Documentación de las funciones}
\mbox{\Hypertarget{main_8cpp_ae18f807fa4259735a5ea58fc3f6185c0}\label{main_8cpp_ae18f807fa4259735a5ea58fc3f6185c0}} 
\index{main.\+cpp@{main.\+cpp}!error\+Break@{error\+Break}}
\index{error\+Break@{error\+Break}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{error\+Break()}{errorBreak()}}
{\footnotesize\ttfamily void error\+Break (\begin{DoxyParamCaption}\item[{int}]{errorcode,  }\item[{const string \&}]{errorinfo }\end{DoxyParamCaption})}



Reports an important error and exits the program. 


\begin{DoxyParams}{Parámetros}
{\em errorcode} & An integer representing the error detected, which is represented by several symbolic constants\+: E\+R\+R\+O\+R\+\_\+\+A\+R\+G\+U\+M\+E\+N\+TS, E\+R\+R\+O\+R\+\_\+\+O\+P\+EN y E\+R\+R\+O\+R\+\_\+\+D\+A\+TA \\
\hline
{\em errorinfo} & Additional information regarding the error\+: \char`\"{}\char`\"{} (empty string) for errors parsing the arguments to \hyperlink{main_8cpp_ae3d191cbd032819070b789079ea0faaf}{main()} and, for the case of errors opening or reading/writing data, the name of the file thas has failed. \\
\hline
\end{DoxyParams}


Definición en la línea 142 del archivo main.\+cpp.


\begin{DoxyCode}
142                                                         \{
143     cerr << endl << \textcolor{stringliteral}{"%%%OUTPUT"} << endl;
144     \textcolor{keywordflow}{switch}(errorcode) \{
145         \textcolor{keywordflow}{case} ERROR\_ARGUMENTS:
146             cerr<<\textcolor{stringliteral}{"Error in call. Please use:\(\backslash\)n -l <language>  [-r <randomnumber> -i <inputfile>]"}<<endl;
147             \textcolor{keywordflow}{break};
148         \textcolor{keywordflow}{case} ERROR\_OPEN:
149             cerr<<\textcolor{stringliteral}{"Error opening file "}<<errordata << endl;
150             \textcolor{keywordflow}{break};
151         \textcolor{keywordflow}{case} ERROR\_DATA:
152             cerr<<\textcolor{stringliteral}{"Data error in file "}<<errordata << endl;
153             \textcolor{keywordflow}{break};
154     \}
155     std::exit(1);
156 \}
\end{DoxyCode}
\mbox{\Hypertarget{main_8cpp_a1748be51e193301aa726a8ac722a91e8}\label{main_8cpp_a1748be51e193301aa726a8ac722a91e8}} 
\index{main.\+cpp@{main.\+cpp}!Hall\+Of\+Fame@{Hall\+Of\+Fame}}
\index{Hall\+Of\+Fame@{Hall\+Of\+Fame}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{Hall\+Of\+Fame()}{HallOfFame()}}
{\footnotesize\ttfamily void Hall\+Of\+Fame (\begin{DoxyParamCaption}\item[{const \hyperlink{classLanguage}{Language} \&}]{l,  }\item[{int}]{random,  }\item[{const \hyperlink{classBag}{Bag} \&}]{b,  }\item[{const \hyperlink{classPlayer}{Player} \&}]{p,  }\item[{int}]{nwords,  }\item[{int}]{score,  }\item[{const string \&}]{result }\end{DoxyParamCaption})}



Shows final data. 


\begin{DoxyParams}{Parámetros}
{\em l} & \hyperlink{classLanguage}{Language} \\
\hline
{\em random} & Random seed \\
\hline
{\em b} & Final bag \\
\hline
{\em p} & Final player \\
\hline
{\em nwords} & Number of words found \\
\hline
{\em score} & Number of points scored \\
\hline
{\em result} & Aggregation of all valid words found \\
\hline
\end{DoxyParams}


Definición en la línea 133 del archivo main.\+cpp.


\begin{DoxyCode}
134                                                      \{
135     cout << endl << \textcolor{stringliteral}{"%%%OUTPUT"} << endl << \textcolor{stringliteral}{"LANGUAGE: "}<<l.\hyperlink{classLanguage_ae601aeb3adba71b80ca3eb25310bed58}{getLanguage}()<< \textcolor{stringliteral}{" ID: "} << random << 
      endl;
136     cout << \textcolor{stringliteral}{"BAG ("}<<b.\hyperlink{classBag_a32652be363a0f5d189b029ed863e5bf2}{size}()<<\textcolor{stringliteral}{"): "} << toUTF(b.\hyperlink{classBag_ac63bdc8c3ceed6d86db66b9d399764ab}{to\_string}()) << endl;
137     cout << \textcolor{stringliteral}{"PLAYER ("} <<p.\hyperlink{classPlayer_a706f8e7eb9f430881ce2c96e6f525b62}{size}() << \textcolor{stringliteral}{"): "} << toUTF(p.\hyperlink{classPlayer_af069ef7e0afaead3c21ac3af4d3c9c40}{to\_string}())<<endl;
138     cout << nwords << \textcolor{stringliteral}{" words and "} << score << \textcolor{stringliteral}{" points "}<<endl << 
139             toUTF(result) << endl;    
140 \}
\end{DoxyCode}
Gráfico de llamadas para esta función\+:
% FIG 1
\mbox{\Hypertarget{main_8cpp_ae3d191cbd032819070b789079ea0faaf}\label{main_8cpp_ae3d191cbd032819070b789079ea0faaf}} 
\index{main.\+cpp@{main.\+cpp}!main@{main}}
\index{main@{main}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{nargs,  }\item[{char $\ast$}]{args\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Main function. 

\begin{DoxyReturn}{Devuelve}

\end{DoxyReturn}
\begin{DoxyWarning}{Atención}
\+: Declare more vars when needed

\+: Check arguments

\+: Process arguments

\+: final report 
\end{DoxyWarning}


Definición en la línea 49 del archivo main.\+cpp.


\begin{DoxyCode}
49                                   \{
50     \hyperlink{classBag}{Bag} bag;
51     \hyperlink{classPlayer}{Player} player;
52     \hyperlink{classLanguage}{Language} language;
53     \hyperlink{classMove}{Move} move;
54     \textcolor{keywordtype}{string} word, lang=\textcolor{stringliteral}{""}, goodmoves=\textcolor{stringliteral}{""}, badmoves=\textcolor{stringliteral}{""}, ifilename=\textcolor{stringliteral}{""}, ofilename=\textcolor{stringliteral}{""};
55     \textcolor{keywordtype}{int} random=-1, nwords=0, score=0;
56     
57     \textcolor{comment}{// I/O streams}
58     ifstream ifile; ofstream ofile;
59     istream *input; ostream *output;
60     
61     \textcolor{comment}{//By deafult cin}
62     input = &cin ;
63     
65     
67 
69 
70     \textcolor{comment}{/*}
71 \textcolor{comment}{    1. El main() recibe como parámetro obligatorio "-l <ID>" y co-}
72 \textcolor{comment}{    mo parámetros opcionales "-i <file>" y "-r <random>" ,}
73 \textcolor{comment}{    en cualquier orden entre los tres. Si se especifica "-i" se leen}
74 \textcolor{comment}{    los datos desde ese fichero, si no, se leen desde el teclado. Si}
75 \textcolor{comment}{    se especifica "-r" se define el aleatorio con el número indica-}
76 \textcolor{comment}{    do, si no, no se define aleatorio.}
77 \textcolor{comment}{    2. Crear una instancia de la clase Language con el anterior ID y}
78 \textcolor{comment}{    mostrar el conjunto de caracteres permitido para ese lenguaje.}
79 \textcolor{comment}{    3. Crear una instancia de la clase Bag, inicializar el generador de}
80 \textcolor{comment}{    números aleatorios con el número aleatorio anterior, si es que}
81 \textcolor{comment}{    se ha indicado, y definir su contenido en base al lenguaje que}
82 \textcolor{comment}{    se ha declarado anteriormente.}
83 \textcolor{comment}{    4. Crear una instancia de la clase Player y llenarla por comple-}
84 \textcolor{comment}{    to con caracteres de la bolsa. Este objeto player deberá estar}
85 \textcolor{comment}{    siempre ordenado de la A a la Z.}
86 \textcolor{comment}{    5. Repetir la siguiente secuencia hasta que se lea un movimiento}
87 \textcolor{comment}{    con la palabra "@"}
88 \textcolor{comment}{    a) Usar el método read(...) para leer un movimiento (desde}
89 \textcolor{comment}{    teclado o desde el fichero de entrada, según el parámetro}
90 \textcolor{comment}{    "-i" ). Los valores para isHorizontal, row y column se leen}
91 \textcolor{comment}{    pero se van a ignorar en el resto del programa, pues sólo se}
92 \textcolor{comment}{    5Metodologı́a de la Programación}
93 \textcolor{comment}{    MPALABRADOS (move)}
94 \textcolor{comment}{    usará letters. En las anteriores prácticas se han usado pa-}
95 \textcolor{comment}{    labras con letras controladas, pues, al fin y al cabo, todas}
96 \textcolor{comment}{    provenı́an de bag, las cuales provienen del diccionario, y}
97 \textcolor{comment}{    todas siguen el mismo patrón del juego scrabble: las letras}
98 \textcolor{comment}{    son mayúsculas, no contienen tildes ni diéresis, aunque al-}
99 \textcolor{comment}{    gunos caracteres internacionales están soportados, como}
100 \textcolor{comment}{    la Ñ. Aunque no se ha usado hasta ahora, al incluir langua-}
101 \textcolor{comment}{    ge.h en cualquier proyecto, también se incluye la definición}
102 \textcolor{comment}{    de esta constante:}
103 \textcolor{comment}{    static const std::string ALPHABET=toISO(” ABCDEFGHIJKLMNOPQRSTUVWXYZÑ”);}
104 \textcolor{comment}{    Esto quiere decir que cualquier palabra que se consulte en}
105 \textcolor{comment}{    el diccionario debe estar representada con caracteres de}
106 \textcolor{comment}{    ese ALPHABET Esta es la primera vez que exponemos el}
107 \textcolor{comment}{    programa a leer datos externos no controlados, por lo que}
108 \textcolor{comment}{    habrı́a que transformar cada palabra de juego que se lee,}
109 \textcolor{comment}{    a una palabra expresada en ese alfabeto. Y eso es lo que}
110 \textcolor{comment}{    hace la función normalizeWord(...)}
111 \textcolor{comment}{    b) Si la palabra leı́da es válida para el valor de Player (al me-}
112 \textcolor{comment}{    nos ha de tener dos caracteres) entonces se anota la pala-}
113 \textcolor{comment}{    bra, se calcula la puntuación de la palabra según el diccio-}
114 \textcolor{comment}{    nario y se anota, se eliminan las letras de player, se sacan}
115 \textcolor{comment}{    nuevas letras de bag para rellenar player, y se sigue ju-}
116 \textcolor{comment}{    gando. Ya nos estamos acercando al ciclo de juego de la}
117 \textcolor{comment}{    práctica final.}
118 \textcolor{comment}{    c) Si la palabra leı́da no es compatible con el valor de player,}
119 \textcolor{comment}{    se desecha y se lee el siguiente movimiento.}
120 \textcolor{comment}{    6. Terminar con la llamada a HallOfFame para visualizar los re-}
121 \textcolor{comment}{    sultados.}
122 \textcolor{comment}{    7. Si en cualquier momento se presenta un error en los argumen-}
123 \textcolor{comment}{    tos, en la apertura de ficheros o en la lectura de datos del fiche-}
124 \textcolor{comment}{    ro, se debe usar la función errorBreak(...) para notificar el error}
125 \textcolor{comment}{    y parar el programa.}
126 \textcolor{comment}{    */}
127 
129     \hyperlink{main_8cpp_a1748be51e193301aa726a8ac722a91e8}{HallOfFame}(language, random, bag, player, nwords, score, goodmoves);
130     \textcolor{keywordflow}{return} 0;
131 \}
\end{DoxyCode}
Gráfico de llamadas para esta función\+:
% FIG 2
